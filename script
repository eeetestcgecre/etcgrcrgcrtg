local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local player = Players.LocalPlayer
local pgui = player:WaitForChild("PlayerGui")

-- === –°–û–°–¢–û–Ø–ù–ò–ï ===
local aaEnabled, headPitchEnabled, jitterEnabled, spinEnabled = false, false, false, false
local bodyYaw, headPitchValue, jitterRange, spinSpeed, currentSpin = 0, 0, 15, 10, 0
local DEFAULT_C0 = CFrame.new(0, 1, 0, -1, 0, 0, 0, 0, 1, 0, 1, 0)
local keybindsPinned = false

-- === –ù–ê–°–¢–†–û–ô–ö–ò GUI ===
local TOGGLE_KEY = Enum.KeyCode.RightControl
local ACCENT_COLOR = Color3.fromRGB(255, 255, 255)
local INACTIVE_COLOR = Color3.fromRGB(150, 150, 150)
local blurEffect = Instance.new("BlurEffect", Lighting)
blurEffect.Size, blurEffect.Enabled = 0, false

local screenGui = Instance.new("ScreenGui", pgui)
screenGui.Name = "InniwareMenu"; screenGui.ResetOnSpawn = false

-- === –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ ===
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 550, 0, 440)
mainFrame.Position = UDim2.new(0, 50, 0.5, -220)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
mainFrame.BorderSizePixel = 0; mainFrame.Visible = false 
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 6)

local titleLabel = Instance.new("TextLabel", mainFrame)
titleLabel.Size = UDim2.new(0, 200, 0, 30); titleLabel.Position = UDim2.new(0, 15, 0, 5); titleLabel.BackgroundTransparency = 1; titleLabel.Text = "INNIWARE WTF"; titleLabel.Font = Enum.Font.GothamBold; titleLabel.TextColor3 = ACCENT_COLOR; titleLabel.TextSize = 14; titleLabel.TextXAlignment = Enum.TextXAlignment.Left

-- === –û–ö–ù–û PREVIEW ===
local previewFrame = Instance.new("Frame", screenGui)
previewFrame.Size = UDim2.new(0, 250, 0, 440)
previewFrame.Position = UDim2.new(0, 610, 0.5, -220)
previewFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
previewFrame.BorderSizePixel = 0; previewFrame.Visible = false
Instance.new("UICorner", previewFrame).CornerRadius = UDim.new(0, 6)

local viewportFrame = Instance.new("ViewportFrame", previewFrame)
viewportFrame.Size = UDim2.new(1, -20, 1, -60); viewportFrame.Position = UDim2.new(0, 10, 0, 40); viewportFrame.BackgroundTransparency = 1; viewportFrame.Ambient = Color3.fromRGB(255, 255, 255)

local function updatePreviewModel()
    viewportFrame:ClearAllChildren()
    local char = player.Character or player.CharacterAdded:Wait()
    char.Archivable = true
    local clone = char:Clone()
    clone.Parent = viewportFrame
    local hrp = clone:WaitForChild("HumanoidRootPart")
    local viewCam = Instance.new("Camera", viewportFrame)
    viewportFrame.CurrentCamera = viewCam
    viewCam.CFrame = CFrame.new(hrp.Position + hrp.CFrame.LookVector * 5 + Vector3.new(0, 1.5, 0), hrp.Position)
end

-- === –û–ö–ù–û KEYBINDS ===
local keybindsFrame = Instance.new("Frame", screenGui)
keybindsFrame.Size = UDim2.new(0, 180, 0, 150); keybindsFrame.Position = UDim2.new(0, 870, 0.5, -75)
keybindsFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20); keybindsFrame.BorderSizePixel = 0; keybindsFrame.Visible = false
Instance.new("UICorner", keybindsFrame).CornerRadius = UDim.new(0, 6)

local kbTitle = Instance.new("TextLabel", keybindsFrame)
kbTitle.Size = UDim2.new(1, -30, 0, 30); kbTitle.Position = UDim2.new(0, 10, 0, 0); kbTitle.BackgroundTransparency = 1; kbTitle.Text = "KEYBINDS"; kbTitle.Font = Enum.Font.GothamBold; kbTitle.TextColor3 = ACCENT_COLOR; kbTitle.TextSize = 11; kbTitle.TextXAlignment = Enum.TextXAlignment.Left

local eyeBtn = Instance.new("TextButton", keybindsFrame)
eyeBtn.Size = UDim2.new(0, 20, 0, 20); eyeBtn.Position = UDim2.new(1, -25, 0, 5); eyeBtn.BackgroundTransparency = 0.8; eyeBtn.BackgroundColor3 = ACCENT_COLOR; eyeBtn.Text = "üëÅ"; eyeBtn.TextColor3 = ACCENT_COLOR; eyeBtn.TextSize = 12; Instance.new("UICorner", eyeBtn).CornerRadius = UDim.new(1, 0)

eyeBtn.MouseButton1Click:Connect(function()
    keybindsPinned = not keybindsPinned
    eyeBtn.BackgroundTransparency = keybindsPinned and 0 or 0.8
    eyeBtn.TextColor3 = keybindsPinned and Color3.new(0,0,0) or ACCENT_COLOR
end)

-- === –≠–õ–ï–ú–ï–ù–¢–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø ===
local function createCheckbox(name, parent, callback)
    local f = Instance.new("Frame", parent); f.Size = UDim2.new(1, -10, 0, 30); f.BackgroundTransparency = 1
    local l = Instance.new("TextLabel", f); l.Size = UDim2.new(1, -30, 1, 0); l.BackgroundTransparency = 1; l.Text = name; l.Font = Enum.Font.Gotham; l.TextColor3 = INACTIVE_COLOR; l.TextSize = 12; l.TextXAlignment = Enum.TextXAlignment.Left
    local b = Instance.new("TextButton", f); b.Size = UDim2.new(0, 16, 0, 16); b.Position = UDim2.new(1, -20, 0.5, -8); b.BackgroundColor3 = Color3.fromRGB(40, 40, 40); b.Text = ""; Instance.new("UICorner", b).CornerRadius = UDim.new(0, 4)
    local s = false; b.MouseButton1Click:Connect(function() s = not s; TweenService:Create(b, TweenInfo.new(0.2), {BackgroundColor3 = s and ACCENT_COLOR or Color3.fromRGB(40, 40, 40)}):Play(); callback(s) end)
end

local function createSlider(name, min, max, default, parent, callback)
    local f = Instance.new("Frame", parent); f.Size = UDim2.new(1, -10, 0, 45); f.BackgroundTransparency = 1
    local l = Instance.new("TextLabel", f); l.Size = UDim2.new(1, 0, 0, 20); l.BackgroundTransparency = 1; l.Text = name .. ": " .. default; l.Font = Enum.Font.Gotham; l.TextColor3 = INACTIVE_COLOR; l.TextSize = 11; l.TextXAlignment = Enum.TextXAlignment.Left
    local sb = Instance.new("Frame", f); sb.Size = UDim2.new(1, -10, 0, 4); sb.Position = UDim2.new(0, 0, 0, 25); sb.BackgroundColor3 = Color3.fromRGB(40, 40, 40); sb.BorderSizePixel = 0
    local sf = Instance.new("Frame", sb); sf.Size = UDim2.new((default-min)/(max-min), 0, 1, 0); sf.BackgroundColor3 = ACCENT_COLOR; sf.BorderSizePixel = 0
    local isD = false
    local function mv() local mouseP = UserInputService:GetMouseLocation().X; local relP = math.clamp((mouseP - sb.AbsolutePosition.X) / sb.AbsoluteSize.X, 0, 1); local v = math.floor(min + (max - min) * relP); sf.Size = UDim2.new(relP, 0, 1, 0); l.Text = name .. ": " .. v; callback(v) end
    sb.InputBegan:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 then isD = true mv() end end)
    UserInputService.InputChanged:Connect(function(i) if isD and i.UserInputType == Enum.UserInputType.MouseMovement then mv() end end)
    UserInputService.InputEnded:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 then isD = false end end)
end

-- === –í–ö–õ–ê–î–ö–ò ===
local sidebar = Instance.new("Frame", mainFrame)
sidebar.Size = UDim2.new(0, 120, 1, -40); sidebar.Position = UDim2.new(0, 0, 0, 40); sidebar.BackgroundColor3 = Color3.fromRGB(15, 15, 15); sidebar.BorderSizePixel = 0; Instance.new("UICorner", sidebar).CornerRadius = UDim.new(0, 6)
local sidebarLayout = Instance.new("UIListLayout", sidebar); sidebarLayout.Padding = UDim.new(0, 5); sidebarLayout.HorizontalAlignment = "Center"

local pageContainer = Instance.new("Frame", mainFrame)
pageContainer.Size = UDim2.new(1, -135, 1, -50); pageContainer.Position = UDim2.new(0, 130, 0, 45); pageContainer.BackgroundTransparency = 1

local tabs = {"LEGIT", "LOCAL", "VISUALS", "RAGE", "ANTI-AIM", "MISC"}
local pages, currentPage = {}, nil

for i, tabName in ipairs(tabs) do
    local btn = Instance.new("TextButton", sidebar); btn.Size = UDim2.new(1, -10, 0, 35); btn.BackgroundTransparency = 1; btn.Text = tabName; btn.Font = Enum.Font.GothamMedium; btn.TextSize = 11; btn.TextColor3 = (tabName == "LOCAL" and ACCENT_COLOR or INACTIVE_COLOR)
    local page = Instance.new("ScrollingFrame", pageContainer); page.Size = UDim2.new(1, 0, 1, 0); page.BackgroundTransparency = 1; page.ScrollBarThickness = 0; page.Visible = (tabName == "LOCAL"); Instance.new("UIListLayout", page).Padding = UDim.new(0, 10)
    pages[tabName] = page; if tabName == "LOCAL" then currentPage = page end
    btn.MouseButton1Click:Connect(function()
        if currentPage == page then return end
        for _, b in pairs(sidebar:GetChildren()) do if b:IsA("TextButton") then b.TextColor3 = INACTIVE_COLOR end end
        btn.TextColor3 = ACCENT_COLOR; if currentPage then currentPage.Visible = false end
        page.Visible = true; currentPage = page
    end)
end

-- === –ö–û–ù–¢–ï–ù–¢ ===
createCheckbox("Enable Anti-Aim", pages["ANTI-AIM"], function(v) aaEnabled = v end)
createSlider("Body Yaw", -180, 180, 0, pages["ANTI-AIM"], function(v) bodyYaw = v end)
createCheckbox("Enable Head Pitch", pages["ANTI-AIM"], function(v) headPitchEnabled = v end)
createSlider("Head Pitch", -90, 90, 0, pages["ANTI-AIM"], function(v) headPitchValue = v end)
createCheckbox("Spinbot", pages["ANTI-AIM"], function(v) spinEnabled = v end)
createSlider("Spin Speed", 1, 100, 10, pages["ANTI-AIM"], function(v) spinSpeed = v end)

-- === CORE ===
RunService.RenderStepped:Connect(function()
    local char = player.Character
    if aaEnabled and char and char:FindFirstChild("HumanoidRootPart") then
        local hrp = char.HumanoidRootPart; local look = workspace.CurrentCamera.CFrame.LookVector
        local base = CFrame.new(hrp.Position, hrp.Position + Vector3.new(look.X, 0, look.Z))
        local yaw = math.rad(bodyYaw)
        if spinEnabled then currentSpin = (currentSpin + spinSpeed) % 360; yaw = yaw + math.rad(currentSpin) end
        hrp.CFrame = base * CFrame.Angles(0, yaw, 0)
    end
    local torso = char and (char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso"))
    local neck = torso and torso:FindFirstChild("Neck")
    if neck then neck.C0 = headPitchEnabled and DEFAULT_C0 * CFrame.Angles(math.rad(headPitchValue),0,0) or DEFAULT_C0 end
end)

-- === TOGGLE & DRAG ===
local function toggleMenu()
    local vis = not mainFrame.Visible
    mainFrame.Visible = vis; previewFrame.Visible = vis; blurEffect.Enabled = vis
    if not keybindsPinned then keybindsFrame.Visible = vis end
    if vis then updatePreviewModel() end
    TweenService:Create(blurEffect, TweenInfo.new(0.3), {Size = vis and 15 or 0}):Play()
end
UserInputService.InputBegan:Connect(function(i, g) if not g and i.KeyCode == TOGGLE_KEY then toggleMenu() end end)

local function makeDraggable(f)
    local drag, dStart, sPos
    f.InputBegan:Connect(function(i) 
        if i.UserInputType == Enum.UserInputType.MouseButton1 and (f ~= keybindsFrame or not keybindsPinned) then 
            drag = true; dStart = i.Position; sPos = f.Position
            i.Changed:Connect(function() if i.UserInputState == Enum.UserInputState.End then drag = false end end)
        end 
    end)
    UserInputService.InputChanged:Connect(function(i) if drag and i.UserInputType == Enum.UserInputType.MouseMovement then local d = i.Position - dStart; f.Position = UDim2.new(sPos.X.Scale, sPos.X.Offset + d.X, sPos.Y.Scale, sPos.Y.Offset + d.Y) end end)
end
makeDraggable(mainFrame); makeDraggable(keybindsFrame); makeDraggable(previewFrame)

-- === INTRO ===
task.spawn(function()
    local ig = Instance.new("ScreenGui", pgui); local c = Instance.new("Frame", ig); c.Size = UDim2.new(0, 300, 0, 100); c.Position = UDim2.new(0.5, -150, 0.5, -50); c.BackgroundTransparency = 1
    local fL = Instance.new("TextLabel", c); fL.Size = UDim2.new(0, 40, 1, 0); fL.Position = UDim2.new(0.5, -20, 0, 0); fL.BackgroundTransparency = 1; fL.Font = Enum.Font.GothamMedium; fL.TextColor3 = ACCENT_COLOR; fL.TextSize = 40; fL.Text = "I"
    local rL = Instance.new("TextLabel", c); rL.Size = UDim2.new(0, 200, 1, 0); rL.Position = UDim2.new(0.5, 0, 0, 0); rL.BackgroundTransparency = 1; rL.Font = Enum.Font.GothamMedium; rL.TextColor3 = ACCENT_COLOR; rL.TextSize = 40; rL.Text = "NNIWARE"
    rL.TextXAlignment = "Left"; rL.TextTransparency = 1; task.wait(0.8)
    TweenService:Create(fL, TweenInfo.new(0.7, Enum.EasingStyle.Quart), {Position = UDim2.new(0.5, -100, 0, 0)}):Play()
    task.wait(0.1); TweenService:Create(rL, TweenInfo.new(0.7, Enum.EasingStyle.Quart), {Position = UDim2.new(0.5, -75, 0, 0), TextTransparency = 0}):Play()
    task.wait(1.5); TweenService:Create(fL, TweenInfo.new(0.6), {TextTransparency = 1}):Play(); TweenService:Create(rL, TweenInfo.new(0.6), {TextTransparency = 1}):Play()
    task.wait(0.6); ig:Destroy(); toggleMenu()
end)
